let matchesDataTable,retryCount=0;const maxRetries=3;$(function(){function n(n){const t=new Date(n),r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()],i=t.getDate(),u=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],f=n=>{if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}};return`${r} ${i}${f(i)} ${u}`}function t(n,t=true){const r=new Date(n);let i=r.getHours();const u=r.getMinutes().toString().padStart(2,"0");if(t){const n=i>=12?"PM":"AM";return i=i%12||12,`${i}:${u} ${n}`}return`${i.toString().padStart(2,"0")}:${u}`}matchesDataTable=$("#matchesTable").DataTable({headerCallback:function(n){$(n).remove()},ajax:{url:"api/teams/57/matches",dataSrc:"",error:function(n){n.status===500&&retryCount<maxRetries?(retryCount++,showToast("Failed to load matches data. Retrying","warning",3e3),setTimeout(()=>{matchesDataTable.ajax.reload(null,!1)},1e3)):retryCount>=maxRetries&&showToast(`Failed to load matches data after ${retryCount} retries.`,"error",3e3)}},columns:[{width:"75px",data:"homeTeam.crest",orderable:!1,render:n=>`<img src=${n} style="height:75px;" />`},{data:"homeTeam.name",orderable:!1,className:"dt-center v-center",render:n=>`<p>${n}</p>`},{width:"200px",data:null,orderable:!1,render:i=>{if(i.status==="FINISHED")return`<div style="text-align:center; " class="team-img">
                    <img src="${i.area.flag}" style="height:20px;" />
                    <div>
                        <p style="font-size:0.95em;">${i.score.fullTime.home} - ${i.score.fullTime.away}</p>
                        <p style="margin-bottom: 0;">HT:</p>
                        <p style="font-size:0.65em;">${i.score.halfTime.home} - ${i.score.halfTime.away}</p>
                    </div>
                </div>`;else{const r=n(i.utcDate),u=t(i.utcDate);return`<div style="text-align:center; " class="team-img">
                    <img src="${i.area.flag}" style="height:20px;" />
                    <div>
                        <p>${r}</p>
                        <p>${u}</p>
                    </div>
                </div>`}}},{data:"awayTeam.name",orderable:!1,className:"dt-center v-center",render:n=>`<p>${n}</p>`},{width:"75px",data:"awayTeam.crest",orderable:!1,render:n=>`<img src=${n} style="height:75px;" />`},],paging:!1,scrollY:"600px",scrollCollapse:!0,searching:!1,scrollable:!0,ordering:!0,order:[]})});