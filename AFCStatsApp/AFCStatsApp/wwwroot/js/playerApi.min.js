async function request(n,t=null,i="POST"){try{const u={method:i,headers:{"Content-Type":"application/json",RequestVerificationToken:document.querySelector('input[name="__RequestVerificationToken"]').value}};t&&(u.body=JSON.stringify(t));const r=await fetch(n,u);if(!r.ok&&i!=="DELETE"){const n=await r.text();throw new Error(`${i} request failed: ${r.status} - ${n}`);}return await r.json()}catch(r){console.error(`Error in ${i} request:`,r);throw r;}}let playerApi={};playerApi.getAll=async n=>await request(n,null,"GET");playerApi.add=async n=>await request("/api/players/add",n,"POST");playerApi.update=async n=>await request("/api/players/update",n,"PUT");playerApi.delete=async n=>{const t={method:"DELETE",headers:{"Content-Type":"application/json",RequestVerificationToken:document.querySelector('input[name="__RequestVerificationToken"]').value}};await fetch(`/api/players/delete/${n}`,t)};